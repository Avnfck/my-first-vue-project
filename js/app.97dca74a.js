(function(){"use strict";var e={5424:function(e,t,r){var n=r(5130),o=r(6768);function s(e,t){const r=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(r)}var a=r(1241);const i={},u=(0,a.A)(i,[["render",s]]);var c=u,d=r(1387);const l={class:"home"};function g(e,t,r,n,s,a){const i=(0,o.g2)("PostCard"),u=(0,o.g2)("PaginationControls");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",l,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.posts,(e=>((0,o.uX)(),(0,o.Wv)(i,{key:e.id,id:e.id,title:e.title,body:e.body,author:e.author,onDeletePost:a.deletePost},null,8,["id","title","body","author","onDeletePost"])))),128))]),(0,o.bF)(u,{class:"pagination"})],64)}var h=r(4232);const P={class:"card max-w-md mx-auto bg-white shadow-lg rounded-lg overflow-hidden"},p={class:"p-4"},f={class:"text-xl font-semibold mb-2"},m={class:"text-gray-700 mb-4"};function v(e,t,r,n,s,a){const i=(0,o.g2)("ShowMoreContainer");return(0,o.uX)(),(0,o.CE)("div",P,[(0,o.Lk)("div",p,[(0,o.Lk)("h3",f,"Tytuł: "+(0,h.v_)(r.title),1),(0,o.bF)(i,{text:`${r.body}`},null,8,["text"]),(0,o.Lk)("p",m,"Autor: "+(0,h.v_)(r.author),1),(0,o.Lk)("button",{class:"bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600 transition-colors duration-200 ease-in-out",onClick:t[0]||(t[0]=(...e)=>a.handleDelete&&a.handleDelete(...e))}," Usuń ")])])}const b={class:"max-w-md mx-auto my-4 p-4 border rounded shadow"};function y(e,t,r,n,s,a){return(0,o.uX)(),(0,o.CE)("div",b,[(0,o.Lk)("p",null,(0,h.v_)(s.isExpanded?r.text:a.truncatedText),1),(0,o.Lk)("button",{class:"mt-2 text-blue-500 hover:underline",onClick:t[0]||(t[0]=(...e)=>a.toggleText&&a.toggleText(...e))},(0,h.v_)(s.isExpanded?"Pokaż mniej":"Pokaż więcej"),1)])}var x={data(){return{isExpanded:!1}},computed:{truncatedText(){return this.text.length>100?this.text.substring(0,100)+"...":this.text}},methods:{toggleText(){this.isExpanded=!this.isExpanded}},props:{text:{type:String,required:!0}}};const w=(0,a.A)(x,[["render",y],["__scopeId","data-v-2c8e521a"]]);var C=w,k={name:"PostCard",components:{ShowMoreContainer:C},props:{title:{type:String,required:!0},body:{type:String,required:!0},author:{type:String,required:!0},id:{type:Number,required:!0}},methods:{handleDelete(){this.$emit("delete-post",this.id)}}};const A=(0,a.A)(k,[["render",v]]);var E=A;const _={class:"pagination card max-w-md mx-auto bg-white shadow-lg rounded-lg overflow-hidden p-4 flex justify-between items-center"},j={class:"text-gray-800"};function O(e,t,r,n,s,a){const i=(0,o.g2)("PreviousPaginationButton"),u=(0,o.g2)("ForwardPaginationButton");return(0,o.uX)(),(0,o.CE)("div",_,[(0,o.bF)(i,{onClick:t[0]||(t[0]=t=>e.$store.commit("decreaseCurrentPage")),currentPage:a.currentPage},{default:(0,o.k6)((()=>[(0,o.eW)(" « Previous ")])),_:1},8,["currentPage"]),(0,o.Lk)("span",j," Page "+(0,h.v_)(a.currentPage)+" of "+(0,h.v_)(a.totalPages),1),(0,o.bF)(u,{onClick:t[1]||(t[1]=t=>e.$store.commit("increaseCurrentPage")),currentPage:a.currentPage,totalPages:a.totalPages},{default:(0,o.k6)((()=>[(0,o.eW)(" Next » ")])),_:1},8,["currentPage","totalPages"])])}const T=["disabled"];function F(e,t,r,n,s,a){return(0,o.uX)(),(0,o.CE)("button",{class:(0,h.C4)(["px-4 py-2 mx-1 rounded-lg",a.isActive?"bg-blue-500 text-white":"bg-gray-200 text-gray-800","transition-colors duration-200 ease-in-out","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"]),disabled:!a.isActive},[(0,o.RG)(e.$slots,"default")],10,T)}var S={props:{currentPage:{type:Number,required:!0}},computed:{isActive(){return 1!==this.currentPage}}};const L=(0,a.A)(S,[["render",F]]);var X=L;const $=["disabled"];function q(e,t,r,n,s,a){return(0,o.uX)(),(0,o.CE)("button",{class:(0,h.C4)(["px-4 py-2 mx-1 rounded-lg","bg-blue-500 text-white",a.isActive?"bg-blue-500 text-white":"bg-gray-200 text-gray-800","transition-colors duration-200 ease-in-out","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"]),disabled:!a.isActive},[(0,o.RG)(e.$slots,"default")],10,$)}var D={props:{currentPage:{type:Number,required:!0},totalPages:{type:Number}},computed:{isActive(){return this.currentPage!==this.totalPages}}};const M=(0,a.A)(D,[["render",q]]);var B=M,N=r(782),U={components:{ForwardPaginationButton:B,PreviousPaginationButton:X},computed:{...(0,N.L8)(["getCurrentPage","getTotalPages"]),currentPage(){return this.getCurrentPage},totalPages(){return this.getTotalPages}}};const I=(0,a.A)(U,[["render",O],["__scopeId","data-v-a83fba8a"]]);var W=I,G={name:"HomeView",components:{PostCard:E,PaginationControls:W},computed:{...(0,N.L8)(["getPaginetedPosts"]),posts(){return this.getPaginetedPosts}},created(){this.$store.dispatch("fetchAllData")},methods:{...(0,N.i0)(["removePost"]),deletePost(e){this.removePost(e)}}};const K=(0,a.A)(G,[["render",g]]);var R=K;const H=[{path:"/",name:"home",component:R}],V=(0,d.aE)({history:(0,d.Bt)(),routes:H});var z=V,J=r(8626),Q=r.n(J),Y=r(4373),Z=(0,N.y$)({state:{enrichedPosts:null,currentPage:1,postsPerPage:10},mutations:{setEnrichedPosts(e,{posts:t,users:r}){e.enrichedPosts=t.map((e=>{const t=r.find((t=>t.id===e.userId));return{...e,author:t?t.name:"Unknown"}}))},increaseCurrentPage(e){e.currentPage++},decreaseCurrentPage(e){e.currentPage--},removePost(e,t){e.enrichedPosts=e.enrichedPosts.filter((e=>e.id!==t));const r=Math.ceil(e.enrichedPosts.length/e.postsPerPage);e.currentPage>r&&(e.currentPage=r)}},getters:{getPaginetedPosts(e){if(e.enrichedPosts){const t=(e.currentPage-1)*e.postsPerPage,r=t+e.postsPerPage;return Q().slice(e.enrichedPosts,t,r)}return[]},getCurrentPage(e){return e.currentPage},getTotalPages(e){return e.enrichedPosts?Q().ceil(e.enrichedPosts.length/e.postsPerPage):0}},actions:{async fetchPosts(){try{const e=await Y.A.get("https://jsonplaceholder.typicode.com/posts"),t=e.data;if(!Array.isArray(t))throw new Error("Posts data is not an array");return t}catch(e){throw console.log("Failed to fetch posts data",e.message),e}},async fetchUsers(){try{const e=await Y.A.get("https://jsonplaceholder.typicode.com/users"),t=e.data;if(!Array.isArray(t))throw new Error("Users data is not an array");return t}catch(e){throw console.log("Failed to fetch users data",e.message),e}},async fetchAllData({dispatch:e,commit:t}){try{const[r,n]=await Promise.all([e("fetchPosts"),e("fetchUsers")]);t("setEnrichedPosts",{posts:r,users:n})}catch(r){console.log("Failed to fetch all data",r.message)}},removePost({commit:e},t){e("removePost",t)}},modules:{}});(0,n.Ef)(c).use(Z).use(z).mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,s){if(!n){var a=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],s=e[d][2];for(var i=!0,u=0;u<n.length;u++)(!1&s||a>=s)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(i=!1,s<a&&(a=s));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,o,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,a=n[0],i=n[1],u=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(u)var d=u(r)}for(t&&t(n);c<a.length;c++)s=a[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(d)},n=self["webpackChunkcogitech"]=self["webpackChunkcogitech"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(5424)}));n=r.O(n)})();
//# sourceMappingURL=app.97dca74a.js.map